¡# ç©å®¶ä¸»å¾ªç¯ä¸HUDè¯¦è§£

## å¾ªç¯èŒè´£åˆ†é…
- ä¸»å¾ªç¯ Updateï¼š`Assets/Scripts/FPGame/Module/Actor/PlayerController.cs:3014-3051`
  - ç­‰å¾…ç‰©ç†çº¿ç¨‹åŒæ­¥ï¼ˆ`RodSlot.SimThread.WaitForThreadSync()`ï¼‰ï¼Œé©±åŠ¨çŠ¶æ€æœº `fsm.Update()`ï¼›
  - æ›´æ–°æŒ‡æ ‡ï¼ˆæŠ›æŠ•ç›®æ ‡ã€çº¿é•¿ç­‰ï¼‰ã€åˆ‡æ¢è¾“å…¥è®¾å¤‡æç¤ºã€åŠ¨æ€æ°´é¢ä½ç½®ï¼›
  - å¤„ç†ç§»åŠ¨/è¡Œèµ°ä¸åœºæ™¯äº¤äº’ã€‚
- ç‰©ç†å¾ªç¯ FixedUpdateï¼š`Assets/Scripts/FPGame/Module/Actor/PlayerController.cs:3369-3371`
  - æ›´æ–°æ‹‰æ‹½/åˆºé±¼çš„è§¦å‘çŠ¶æ€ä¸æ•°å€¼ï¼ˆ`pullValue/isHookedValue/strikeValue`ï¼‰ã€‚
- æ¸²æŸ“åå¤„ç† LateUpdateï¼š`Assets/Scripts/FPGame/Module/Actor/PlayerController.cs:3387-3441`
  - ç¨‹åºåŒ–æ‰‹è‡‚ä¸æ†å§¿æ€ï¼ˆ`ProceduralRotation`ï¼‰ï¼ŒåŸºäº `pullAngle/pullSideAngle` ä¸ `RodForce`ï¼›
  - ä»¿çœŸåå¤„ç†ä¸å›å†™ï¼ˆ`Rod.OnLateUpdate`ã€`RodInHandsUpdate`ï¼‰ï¼Œæ”¯æ¶åŒæ­¥ï¼›
  - TPM/å¤šäººå¤–è§‚æ•°æ®æ›´æ–°ï¼ŒæŠ›æŠ•ç›®æ ‡æ›´æ–°ï¼Œç‰©ç†å†»ç»“å¤„ç†ã€‚

## æŠ›æŠ•ç›®æ ‡ä¸HUDæŒ‡ç¤º
- æŒ‡ç¤ºå™¨åˆ·æ–°ï¼š`Assets/Scripts/FPGame/Module/Actor/PlayerController.cs:4345-4361`
  - åœ¨ `UpdateIndicator` ä¸­ä¾æ®è®¾ç½®ä¸é’“å…·çŠ¶æ€å†³å®šæ˜¯å¦æ˜¾ç¤º Lure ä½ç½®ä¸æç¤ºï¼›
  - æ›´æ–° HUD çš„çº¿é•¿/è½ç‚¹æŒ‡ç¤ºä¸æŠ•æ·å‚æ•°ï¼ˆ`ShowHudElements.Instance.*`ï¼‰ã€‚
- ç›®æ ‡ç‚¹è®¡ç®—ï¼š`PlayerController.UpdateTarget`ï¼ˆ`Assets/Scripts/FPGame/Module/Actor/PlayerController.cs:4259-4307`ï¼‰
  - ä»æ‘„åƒæœºå‘å‡ºå°„çº¿ï¼Œå‘½ä¸­åœ°å½¢æˆ–æ°´é¢ï¼Œé™åˆ¶ç›®æ ‡è·ç¦»ä¸è¶…è¿‡ `Rod.MaxCastLength`ï¼›
  - æ›´æ–° `ThrowTargetPoint` ä¸ HUD çš„ç›®æ ‡å€¼ã€‚

## ä¸»è¦æ“ä½œä¸çŠ¶æ€
- æŠ›æŠ•ï¼š`PlayerController.ThrowTackle`ï¼ˆ`Assets/Scripts/FPGame/Module/Actor/PlayerController.cs:3769-3787`ï¼‰
  - æ‰§è¡ŒæŠ›æŠ•å¹¶é‡ç½®æ†åŠ›ï¼Œé€šçŸ¥ç½‘ç»œæ¼”ç¤ºå±‚ï¼ˆå¯é€‰ï¼‰ã€‚
- æ”¶çº¿ä¸æ‹‰æ‹½ï¼šä¾èµ– `RodSlot.Sim.RodAppliedForce` ä¸ `Reel` è¡Œä¸ºï¼Œå½±å“ HUD ä¸ç‰©ç†çŠ¶æ€ã€‚
- æ”¯æ¶äº¤äº’ï¼š
  - æŸ¥æ‰¾/é«˜äº®/æ”¾ç½®/å–æ†ï¼š`PlayerController.UpdateRodPods` ä¸ç›¸å…³æ–¹æ³•ï¼ˆ`Assets/Scripts/FPGame/Module/Actor/PlayerController.cs:1832-1914` ç­‰ï¼‰ã€‚

## è¾“å…¥ä¸é€‚é…
- è¾“å…¥ç³»ç»Ÿï¼šInControl ä¸è‡ªå®šä¹‰æ§åˆ¶ï¼›å¯é€šè¿‡é—¨é¢æ–¹æ³•æ‰§è¡Œï¼ˆä¾‹å¦‚ `SetRequestedSlot/BeginThrowing/FinishThrowing/RaiseCanThrow`ï¼‰ã€‚
- è‡ªåŠ¨åŒ–å»ºè®®ï¼šæ±‡èšåˆ° `InputAdapter`ï¼›æµ‹è¯•æ›¿æ¢ä¸º `FakeInputAdapter`ï¼Œå®ç°å¯ç¼–ç¨‹ä¸å›æ”¾ã€‚

## æŒ‡æ ‡é‡‡é›†ä¸æµ‹è¯•å»ºè®®
- åœ¨ `Update/FixedUpdate/LateUpdate` å…³é”®æ®µæ’å…¥ `ProfilerMarker` æ±‡æ€»å¸§è€—æ—¶ä¸å…³é”®è¿ç®—ï¼›
- ä¸º `UpdateTarget/UpdateIndicator/ThrowTackle` ç­‰æ–¹æ³•è¾“å‡ºæ—¥å¿—æ ‡ç­¾ï¼Œä¾¿äºæµ‹è¯•åœºæ™¯æ–­è¨€ä¸å›å½’ï¼›
- æä¾› `GameStateDump` è¾“å‡ºçº¿é•¿ã€`RodAppliedForce`ã€æ ·æ¡ç‚¹æ•°ã€é±¼çŠ¶æ€è·¯å¾„ä¸ç›®æ ‡ç‚¹ï¼Œç”¨äº PlayMode æµ‹è¯•æ–­è¨€ã€‚¡2pfile:///e:/DocsHDD/fishingplanet2022/Docs/%E6%9C%BA%E5%88%B6-%E7%8E%A9%E5%AE%B6%E5%BE%AA%E7%8E%AF%E4%B8%8EHUD.md